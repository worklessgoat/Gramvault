import React, { useState, useEffect } from ‘react’;
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from ‘recharts’;
import { TrendingUp, TrendingDown, Activity, Wallet, Target, Calendar } from ‘lucide-react’;

const GramVault = () => {
const [isLoggedIn, setIsLoggedIn] = useState(false);
const [username, setUsername] = useState(’’);
const [password, setPassword] = useState(’’);
const [error, setError] = useState(’’);
const [dashboardData, setDashboardData] = useState(null);

// Generate deterministic but realistic trading data based on time
const generateDashboardData = () => {
const now = Date.now();
const startDate = new Date(‘2025-01-01T00:00:00Z’).getTime();
const minutesPassed = Math.floor((now - startDate) / (1000 * 60));

```
// Target: 10 SOL -> 50 SOL in 12 days (40 SOL profit)
// That's ~3.33 SOL profit per day, or ~0.139 SOL per hour
const baseProfit = minutesPassed * 0.00231; // ~0.139 SOL per hour

// Add some realistic volatility using sine waves with different periods
const volatility1 = Math.sin(minutesPassed / 120) * 0.3;
const volatility2 = Math.sin(minutesPassed / 47) * 0.15;
const volatility3 = Math.sin(minutesPassed / 89) * 0.08;

const totalProfit = baseProfit + volatility1 + volatility2 + volatility3;
const currentBalance = 10 + totalProfit;

// Generate chart data for the last 24 hours
const chartData = [];
for (let i = 24; i >= 0; i--) {
  const timeOffset = i * 60; // hours to minutes
  const pastMinutes = minutesPassed - timeOffset;
  const pastProfit = pastMinutes * 0.00231;
  const pastVol1 = Math.sin(pastMinutes / 120) * 0.3;
  const pastVol2 = Math.sin(pastMinutes / 47) * 0.15;
  const pastVol3 = Math.sin(pastMinutes / 89) * 0.08;
  const pastBalance = 10 + pastProfit + pastVol1 + pastVol2 + pastVol3;
  
  chartData.push({
    time: i === 0 ? 'Now' : `${i}h ago`,
    balance: Math.max(10, pastBalance)
  });
}

// Generate realistic transactions
const transactions = [];
const tradeInterval = 180; // One trade every ~3 hours
const numTrades = Math.floor(minutesPassed / tradeInterval);

for (let i = 0; i < Math.min(numTrades, 15); i++) {
  const tradeTime = minutesPassed - (i * tradeInterval);
  const isWin = Math.sin(tradeTime * 0.1) > -0.2; // ~70% win rate
  const amount = 0.5 + Math.abs(Math.sin(tradeTime * 0.3)) * 2;
  const date = new Date(now - (i * tradeInterval * 60 * 1000));
  
  transactions.push({
    id: `TX${tradeTime}`,
    type: isWin ? 'win' : 'loss',
    pair: ['SOL/USDC', 'SOL/ETH', 'SOL/BTC'][Math.floor(Math.abs(Math.sin(tradeTime)) * 3)],
    amount: isWin ? amount : -amount,
    time: date.toLocaleString('en-US', { 
      month: 'short', 
      day: 'numeric', 
      hour: '2-digit', 
      minute: '2-digit' 
    })
  });
}

// Calculate day progress (12-day goal)
const daysPassed = minutesPassed / (60 * 24);
const progressPercent = Math.min((daysPassed / 12) * 100, 100);

// Calculate today's profit
const startOfDay = new Date(now);
startOfDay.setHours(0, 0, 0, 0);
const minutesTodayPassed = Math.floor((now - startOfDay.getTime()) / (1000 * 60));
const todayProfit = minutesTodayPassed * 0.00231 + 
                    Math.sin(minutesPassed / 120) * 0.2 + 
                    Math.sin(minutesPassed / 47) * 0.1;

return {
  currentBalance,
  totalProfit,
  todayProfit,
  chartData: chartData.reverse(),
  transactions,
  progressPercent,
  daysPassed: daysPassed.toFixed(1),
  winRate: 68 + Math.sin(minutesPassed / 500) * 5
};
```

};

useEffect(() => {
if (isLoggedIn) {
setDashboardData(generateDashboardData());
const interval = setInterval(() => {
setDashboardData(generateDashboardData());
}, 30000); // Update every 30 seconds
return () => clearInterval(interval);
}
}, [isLoggedIn]);

const handleLogin = (e) => {
e.preventDefault();
if (username === ‘Groovy9944’ && password === ‘user39zxnlojp’) {
setError(’’);
setIsLoggedIn(true);
} else {
setError(‘Invalid credentials. No account available or incorrect password.’);
}
};

if (!isLoggedIn) {
return (
<div className="min-h-screen bg-black flex items-center justify-center p-4 font-mono">
<div className="w-full max-w-md">
<div className="text-center mb-8">
<h1 className="text-4xl font-bold text-green-400 mb-2">GRAMVAULT</h1>
<p className="text-gray-500 text-sm">// SECURE TRADING TERMINAL</p>
</div>

```
      <div className="bg-zinc-900 border border-green-900/30 rounded p-8">
        <div className="space-y-6">
          <div>
            <label className="block text-green-400 text-sm mb-2">
              {'>'} USERNAME
            </label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full bg-black border border-green-900/50 text-green-400 px-4 py-3 rounded focus:outline-none focus:border-green-500 placeholder-gray-700"
              placeholder="Enter username..."
            />
          </div>
          
          <div>
            <label className="block text-green-400 text-sm mb-2">
              {'>'} PASSWORD
            </label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              onKeyPress={(e) => e.key === 'Enter' && handleLogin(e)}
              className="w-full bg-black border border-green-900/50 text-green-400 px-4 py-3 rounded focus:outline-none focus:border-green-500 placeholder-gray-700"
              placeholder="Enter password..."
            />
          </div>
          
          {error && (
            <div className="bg-red-950/30 border border-red-900/50 text-red-400 px-4 py-3 rounded text-sm">
              ERROR: {error}
            </div>
          )}
          
          <button
            onClick={handleLogin}
            className="w-full bg-green-600 hover:bg-green-500 text-black font-bold py-3 rounded transition-colors"
          >
            {'>> LOGIN'}
          </button>
        </div>
      </div>
      
      <div className="text-center mt-6 text-gray-600 text-xs">
        <p>SYSTEM STATUS: ONLINE</p>
        <p className="mt-1">ENCRYPTED CONNECTION: ACTIVE</p>
      </div>
    </div>
  </div>
);
```

}

if (!dashboardData) return null;

return (
<div className="min-h-screen bg-black text-green-400 font-mono p-6">
<div className="max-w-7xl mx-auto">
{/* Header */}
<div className="flex items-center justify-between mb-8 pb-4 border-b border-green-900/30">
<div>
<h1 className="text-3xl font-bold">GRAMVAULT</h1>
<p className="text-gray-500 text-sm">// TRADING DASHBOARD</p>
</div>
<div className="text-right">
<p className="text-sm text-gray-500">USER: {username}</p>
<p className="text-xs text-gray-600">{new Date().toLocaleString()}</p>
</div>
</div>

```
    {/* Stats Grid */}
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      <div className="bg-zinc-900 border border-green-900/30 rounded p-4">
        <div className="flex items-center justify-between mb-2">
          <span className="text-gray-500 text-sm">CURRENT BALANCE</span>
          <Wallet className="w-4 h-4 text-green-500" />
        </div>
        <p className="text-2xl font-bold">{dashboardData.currentBalance.toFixed(4)} SOL</p>
        <p className="text-xs text-gray-600 mt-1">INITIAL: 10.0000 SOL</p>
      </div>

      <div className="bg-zinc-900 border border-green-900/30 rounded p-4">
        <div className="flex items-center justify-between mb-2">
          <span className="text-gray-500 text-sm">TODAY'S P&L</span>
          {dashboardData.todayProfit >= 0 ? 
            <TrendingUp className="w-4 h-4 text-green-500" /> : 
            <TrendingDown className="w-4 h-4 text-red-500" />
          }
        </div>
        <p className={`text-2xl font-bold ${dashboardData.todayProfit >= 0 ? 'text-green-400' : 'text-red-400'}`}>
          {dashboardData.todayProfit >= 0 ? '+' : ''}{dashboardData.todayProfit.toFixed(4)} SOL
        </p>
        <p className="text-xs text-gray-600 mt-1">
          {((dashboardData.todayProfit / 10) * 100).toFixed(2)}% DAILY
        </p>
      </div>

      <div className="bg-zinc-900 border border-green-900/30 rounded p-4">
        <div className="flex items-center justify-between mb-2">
          <span className="text-gray-500 text-sm">TOTAL PROFIT</span>
          <Activity className="w-4 h-4 text-green-500" />
        </div>
        <p className="text-2xl font-bold text-green-400">
          +{dashboardData.totalProfit.toFixed(4)} SOL
        </p>
        <p className="text-xs text-gray-600 mt-1">
          {((dashboardData.totalProfit / 10) * 100).toFixed(2)}% ROI
        </p>
      </div>

      <div className="bg-zinc-900 border border-green-900/30 rounded p-4">
        <div className="flex items-center justify-between mb-2">
          <span className="text-gray-500 text-sm">WIN RATE</span>
          <Target className="w-4 h-4 text-green-500" />
        </div>
        <p className="text-2xl font-bold">{dashboardData.winRate.toFixed(1)}%</p>
        <p className="text-xs text-gray-600 mt-1">LIVE PERFORMANCE</p>
      </div>
    </div>

    {/* Goal Progress */}
    <div className="bg-zinc-900 border border-green-900/30 rounded p-6 mb-8">
      <div className="flex items-center justify-between mb-4">
        <div className="flex items-center gap-2">
          <Calendar className="w-5 h-5 text-green-500" />
          <span className="text-sm">12-DAY GOAL PROGRESS</span>
        </div>
        <span className="text-sm text-gray-500">
          DAY {dashboardData.daysPassed} / 12
        </span>
      </div>
      <div className="w-full bg-black rounded-full h-4 mb-3">
        <div 
          className="bg-gradient-to-r from-green-600 to-green-400 h-4 rounded-full transition-all duration-1000"
          style={{ width: `${dashboardData.progressPercent}%` }}
        />
      </div>
      <div className="flex justify-between text-sm">
        <span>START: 10 SOL</span>
        <span className="text-green-400">CURRENT: {dashboardData.currentBalance.toFixed(2)} SOL</span>
        <span>TARGET: 50 SOL</span>
      </div>
    </div>

    {/* Chart */}
    <div className="bg-zinc-900 border border-green-900/30 rounded p-6 mb-8">
      <h2 className="text-lg mb-4">{'>'} BALANCE TREND (24H)</h2>
      <ResponsiveContainer width="100%" height={300}>
        <LineChart data={dashboardData.chartData}>
          <CartesianGrid strokeDasharray="3 3" stroke="#1a3a1a" />
          <XAxis 
            dataKey="time" 
            stroke="#4ade80" 
            tick={{ fill: '#4ade80', fontSize: 11 }}
          />
          <YAxis 
            stroke="#4ade80" 
            tick={{ fill: '#4ade80', fontSize: 11 }}
            domain={['dataMin - 0.5', 'dataMax + 0.5']}
          />
          <Tooltip 
            contentStyle={{ 
              backgroundColor: '#000', 
              border: '1px solid #4ade80',
              borderRadius: '4px',
              fontFamily: 'monospace'
            }}
            labelStyle={{ color: '#4ade80' }}
          />
          <Line 
            type="monotone" 
            dataKey="balance" 
            stroke="#4ade80" 
            strokeWidth={2}
            dot={false}
          />
        </LineChart>
      </ResponsiveContainer>
    </div>

    {/* Transactions */}
    <div className="bg-zinc-900 border border-green-900/30 rounded p-6">
      <h2 className="text-lg mb-4">{'>'} RECENT TRANSACTIONS</h2>
      <div className="space-y-2">
        {dashboardData.transactions.map((tx) => (
          <div 
            key={tx.id}
            className="flex items-center justify-between bg-black border border-green-900/20 rounded p-3 hover:border-green-900/50 transition-colors"
          >
            <div className="flex items-center gap-3">
              {tx.type === 'win' ? 
                <TrendingUp className="w-4 h-4 text-green-500" /> : 
                <TrendingDown className="w-4 h-4 text-red-500" />
              }
              <div>
                <p className="text-sm font-bold">{tx.pair}</p>
                <p className="text-xs text-gray-600">{tx.time}</p>
              </div>
            </div>
            <div className="text-right">
              <p className={`text-sm font-bold ${tx.type === 'win' ? 'text-green-400' : 'text-red-400'}`}>
                {tx.amount >= 0 ? '+' : ''}{tx.amount.toFixed(4)} SOL
              </p>
              <p className="text-xs text-gray-600">{tx.type.toUpperCase()}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</div>
```

);
};

export default GramVault;
