<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>GRAMVAULT | INSTITUTIONAL TERMINAL</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* * ==========================================================================
         * SYSTEM ARCHITECTURE: CSS VARIABLES
         * ==========================================================================
         */
        :root {
            --bg-deep: #030303;
            --bg-panel: #0a0a0a;
            --bg-surface: #111111;
            
            --border-dim: rgba(255, 255, 255, 0.06);
            --border-mid: rgba(255, 255, 255, 0.12);
            --border-high: rgba(255, 255, 255, 0.2);

            --accent-primary: #14F195; /* Solana Green */
            --accent-secondary: #9945FF; /* Solana Purple */
            --accent-danger: #FF3355;
            --accent-warn: #FFD512;
            
            --text-main: #FFFFFF;
            --text-muted: #888888;
            --text-dim: #444444;

            --font-ui: 'Inter', system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --font-display: 'Space Grotesk', sans-serif;

            --shadow-glow: 0 0 20px rgba(20, 241, 149, 0.15);
            --shadow-card: 0 12px 24px -10px rgba(0, 0, 0, 0.5);

            --ease-out: cubic-bezier(0.19, 1, 0.22, 1);
            --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* * ==========================================================================
         * RESET & BASE STYLES
         * ==========================================================================
         */
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        html, body {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: var(--font-ui);
            overflow: hidden;
            font-size: 14px;
        }

        /* --- BACKGROUND FX --- */
        #fx-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; opacity: 0.4; pointer-events: none;
        }
        
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
            background-size: 100% 4px;
            z-index: 1; pointer-events: none; opacity: 0.6;
        }

        /* --- TYPOGRAPHY UTILS --- */
        .font-mono { font-family: var(--font-mono); }
        .font-display { font-family: var(--font-display); }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.5rem; }
        .text-green { color: var(--accent-primary); }
        .text-purple { color: var(--accent-secondary); }
        .text-red { color: var(--accent-danger); }
        .text-muted { color: var(--text-muted); }
        .uppercase { text-transform: uppercase; }
        .tracking-wide { letter-spacing: 1px; }

        /* --- FLEX UTILS --- */
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .gap-2 { gap: 8px; } .gap-4 { gap: 16px; } .gap-6 { gap: 24px; }
        .w-full { width: 100%; }

        /* --- COMPONENT: BUTTONS --- */
        .btn {
            position: relative;
            display: inline-flex; align-items: center; justify-content: center; gap: 8px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border-dim);
            border-radius: 6px;
            color: #fff;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.2s var(--ease-out);
        }
        .btn:hover {
            border-color: var(--accent-primary);
            background: rgba(20, 241, 149, 0.05);
            color: var(--accent-primary);
        }
        .btn:active { transform: translateY(1px); }

        .btn-primary {
            background: var(--accent-primary);
            color: #000;
            border: none;
        }
        .btn-primary:hover {
            background: #00ffaa;
            color: #000;
            box-shadow: 0 0 30px rgba(20, 241, 149, 0.4);
        }

        /* --- COMPONENT: INPUTS --- */
        .input-wrapper { position: relative; width: 100%; margin-bottom: 16px; }
        .input-label {
            position: absolute; top: -7px; left: 12px;
            background: var(--bg-panel); padding: 0 6px;
            font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-muted);
        }
        .input-field {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-dim);
            border-radius: 6px;
            padding: 14px 16px;
            color: #fff;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            transition: 0.3s;
        }
        .input-field:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(20, 241, 149, 0.1);
        }

        /* --- COMPONENT: BADGES --- */
        .badge {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 4px 8px; border-radius: 4px;
            font-family: var(--font-mono); font-size: 0.7rem;
            border: 1px solid var(--border-dim);
            background: rgba(255,255,255,0.03);
        }
        .badge-live {
            border-color: rgba(20, 241, 149, 0.3);
            background: rgba(20, 241, 149, 0.1);
            color: var(--accent-primary);
        }
        .pulse { width: 6px; height: 6px; background: currentColor; border-radius: 50%; animation: pulse 1.5s infinite; }

        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* * ==========================================================================
         * LAYOUT ARCHITECTURE
         * ==========================================================================
         */
        
        .app-layout {
            display: grid;
            grid-template-rows: 64px 1fr;
            height: 100vh;
            width: 100vw;
            z-index: 10;
            position: relative;
        }

        /* HEADER */
        .top-nav {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-dim);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 24px;
            z-index: 50;
        }

        .logo {
            display: flex; align-items: center; gap: 10px;
            font-family: var(--font-display); font-weight: 700; font-size: 1.2rem; letter-spacing: -0.5px;
        }
        .logo svg { height: 24px; width: auto; }

        .nav-links { display: flex; gap: 24px; }
        .nav-item {
            font-size: 0.85rem; color: var(--text-muted); cursor: pointer; transition: 0.2s;
            position: relative;
        }
        .nav-item:hover, .nav-item.active { color: #fff; }
        .nav-item.active::after {
            content: ''; position: absolute; bottom: -24px; left: 0; width: 100%; height: 2px;
            background: var(--accent-primary); box-shadow: 0 -2px 10px var(--accent-primary);
        }

        /* WORKSPACE GRID */
        .workspace {
            display: grid;
            grid-template-columns: 260px 1fr 300px;
            overflow: hidden;
        }

        /* SIDEBARS */
        .sidebar-left, .sidebar-right {
            background: var(--bg-panel);
            border-right: 1px solid var(--border-dim);
            display: flex; flex-direction: column;
            overflow-y: auto;
        }
        .sidebar-right { border-right: none; border-left: 1px solid var(--border-dim); }

        .panel-header {
            padding: 16px; border-bottom: 1px solid var(--border-dim);
            font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted); font-weight: 700; letter-spacing: 1px;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* MAIN STAGE */
        .stage {
            background: var(--bg-deep);
            padding: 24px;
            overflow-y: auto;
            display: flex; flex-direction: column; gap: 24px;
        }

        /* CARDS */
        .card {
            background: var(--bg-surface);
            border: 1px solid var(--border-dim);
            border-radius: 8px;
            padding: 1px; /* For border gradient if needed */
            position: relative;
            overflow: hidden;
        }

        /* Portfolio Widget */
        .portfolio-overview {
            background: linear-gradient(180deg, rgba(20,241,149,0.03) 0%, rgba(0,0,0,0) 100%);
            padding: 32px;
            border-radius: 8px;
            display: flex; justify-content: space-between; align-items: flex-end;
        }
        .balance-display {
            font-family: var(--font-display); font-size: 4rem; font-weight: 700;
            line-height: 1; letter-spacing: -2px; margin: 10px 0;
            background: linear-gradient(180deg, #fff, #888);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        
        /* Chart */
        .chart-view { height: 400px; width: 100%; background: #080808; position: relative; }

        /* List Rows */
        .list-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 16px; border-bottom: 1px solid var(--border-dim);
            transition: 0.2s;
        }
        .list-row:hover { background: rgba(255,255,255,0.02); }

        /* * ==========================================================================
         * MODAL SYSTEM (Dialogs)
         * ==========================================================================
         */
        .dialog-backdrop {
            position: fixed; inset: 0; z-index: 1000;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(12px);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .dialog-backdrop.active { opacity: 1; pointer-events: all; }

        .dialog-window {
            background: #09090b; border: 1px solid var(--border-mid);
            width: 100%; max-width: 460px; border-radius: 12px;
            box-shadow: 0 40px 80px -10px rgba(0,0,0,0.8);
            transform: scale(0.95) translateY(10px); transition: 0.4s var(--ease-elastic);
            overflow: hidden;
        }
        .dialog-backdrop.active .dialog-window { transform: scale(1) translateY(0); }

        .dialog-body { padding: 32px; }
        .dialog-footer {
            padding: 20px 32px; background: #0e0e0e; border-top: 1px solid var(--border-dim);
            display: flex; gap: 12px;
        }

        /* --- SPINNERS & LOADERS --- */
        .loader-ring {
            width: 50px; height: 50px; margin: 0 auto 24px auto;
            border: 3px solid rgba(255,255,255,0.1); border-top: 3px solid var(--accent-primary);
            border-radius: 50%; animation: spin 0.8s linear infinite;
        }
        
        .check-list-item {
            display: flex; justify-content: space-between; padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.03);
            font-family: var(--font-mono); font-size: 0.85rem; color: #666;
        }
        .check-list-item span.status { color: #444; }
        .check-list-item.verified span.status { color: var(--accent-primary); font-weight: 700; }

        /* --- MOBILE RESPONSIVENESS --- */
        @media (max-width: 1200px) {
            .workspace { grid-template-columns: 240px 1fr; }
            .sidebar-right { display: none; }
        }
        @media (max-width: 900px) {
            .workspace { grid-template-columns: 1fr; }
            .sidebar-left { display: none; }
            .nav-links { display: none; }
            .balance-display { font-size: 3rem; }
            .portfolio-overview { flex-direction: column; align-items: flex-start; gap: 20px; }
            .dialog-window { width: 90%; margin: 20px; }
        }

    </style>
</head>
<body>

    <canvas id="fx-canvas"></canvas>
    <div class="scanlines"></div>

    <div id="modal-login" class="dialog-backdrop active">
        <div class="dialog-window" style="border-top: 3px solid var(--accent-primary);">
            <div class="dialog-body" style="text-align: center;">
                <div style="margin-bottom: 24px;">
                    <svg width="60" height="60" viewBox="0 0 397 311" fill="none" style="filter: drop-shadow(0 0 20px rgba(20,241,149,0.3));"><path d="M64.6 237.9c2.4-2.4 5.7-3.8 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7zM6.5 102.7h317.4c3.5 0 6.8-1.4 9.2-3.8l62.7-62.7C399.9 32.1 397 25 391.2 25H73.8c-3.5 0-6.8 1.4-9.2 3.8L1.9 91.6c-4.1 4.1-1.2 11.1 4.6 11.1zM391.2 142.6H73.8c-3.5 0-6.8 1.4-9.2 3.8L1.9 209.1c-4.1 4.1-1.2 11.1 4.6 11.1h317.4c3.5 0 6.8-1.4 9.2-3.8l62.7-62.7c4.1-4.2 1.2-11.1-4.6-11.1z" fill="url(#grad1)"/><defs><linearGradient id="grad1" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#14F195"/><stop offset="1" stop-color="#9945FF"/></linearGradient></defs></svg>
                </div>
                <h2 class="font-display" style="margin: 0 0 10px 0; font-size: 1.5rem;">TERMINAL ACCESS</h2>
                <p class="text-muted text-sm" style="margin-bottom: 30px;">Institutional Execution Environment</p>

                <form onsubmit="return false;">
                    <div class="input-wrapper">
                        <span class="input-label">TERMINAL ID</span>
                        <input type="text" id="login-id" class="input-field" placeholder="Enter ID">
                    </div>
                    <div class="input-wrapper">
                        <span class="input-label">ACCESS KEY</span>
                        <input type="password" id="login-key" class="input-field" placeholder="Enter Key">
                    </div>
                    <div id="login-feedback" class="text-xs font-mono text-red" style="height: 20px; margin-bottom: 10px;"></div>
                    <button type="button" class="btn btn-primary w-full" style="padding: 14px; font-size: 0.9rem;" onclick="App.attemptLogin()">
                        AUTHENTICATE
                    </button>
                </form>
            </div>
            <div style="background: #050505; padding: 12px; text-align: center; border-top: 1px solid var(--border-dim);">
                <span class="text-xs text-muted font-mono">ENCRYPTED VIA SOLANA MPC-512</span>
            </div>
        </div>
    </div>

    <div id="modal-docs" class="dialog-backdrop">
        <div class="dialog-window" style="max-width: 600px;">
            <div class="panel-header" style="padding: 24px;">
                <span class="text-lg text-white">STRATEGY WHITEPAPER</span>
                <button class="btn" style="padding: 4px 8px;" onclick="App.toggleModal('modal-docs', false)">CLOSE</button>
            </div>
            <div class="dialog-body" style="overflow-y: auto; max-height: 400px; padding-top: 0;">
                <div style="margin-top: 24px;">
                    <h4 class="font-mono text-green uppercase mb-2">01. Atomic Arbitrage</h4>
                    <p class="text-muted" style="line-height: 1.6;">Our engine monitors Raydium, Orca, and Jupiter liquidity pools. When price displacement >0.1% occurs, atomic bundles are executed to capture spread in the same block.</p>
                </div>
                <div style="margin-top: 24px;">
                    <h4 class="font-mono text-green uppercase mb-2">02. MEV Protection</h4>
                    <p class="text-muted" style="line-height: 1.6;">Transactions are routed via private Jito-Solana validators, bypassing public mempools to ensure zero sandwich attacks.</p>
                </div>
                <div style="margin-top: 24px;">
                    <h4 class="font-mono text-green uppercase mb-2">03. Yield Engine</h4>
                    <p class="text-muted" style="line-height: 1.6;">Profits are auto-compounded daily. Mathematical target: 2.40 SOL/day.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-withdraw" class="dialog-backdrop">
        <div class="dialog-window">
            <div class="panel-header">
                <span>INITIATE WITHDRAWAL</span>
                <span class="text-mono text-green cursor-pointer" onclick="App.toggleModal('modal-withdraw', false)">CANCEL</span>
            </div>
            <div class="dialog-body">
                <div style="background: rgba(255,255,255,0.03); padding: 12px; border-radius: 6px; margin-bottom: 24px; display: flex; justify-content: space-between;">
                    <span class="text-sm text-muted">Available Balance</span>
                    <span class="font-mono text-green" id="withdraw-balance-display">0.0000 SOL</span>
                </div>

                <div class="input-wrapper">
                    <span class="input-label">DESTINATION ADDRESS (SPL)</span>
                    <input type="text" class="input-field" placeholder="Wallet Address">
                </div>
                <div class="input-wrapper">
                    <span class="input-label">AMOUNT (SOL)</span>
                    <input type="number" class="input-field" placeholder="0.00">
                </div>
            </div>
            <div class="dialog-footer">
                <button class="btn w-full" onclick="App.toggleModal('modal-withdraw', false)">CANCEL</button>
                <button class="btn btn-primary w-full" onclick="App.startWithdrawProcess()">CONFIRM TRANSFER</button>
            </div>
        </div>
    </div>

    <div id="modal-loading" class="dialog-backdrop">
        <div class="dialog-window" style="width: 400px; text-align: center;">
            <div class="dialog-body">
                <div class="loader-ring"></div>
                <h3 class="font-display text-lg mb-4">VERIFYING PROTOCOL</h3>
                <div id="loading-checklist">
                    <div class="check-list-item" id="check-1"><span>Wallet Address Valid</span><span class="status">WAITING</span></div>
                    <div class="check-list-item" id="check-2"><span>Liquidity Depth</span><span class="status">WAITING</span></div>
                    <div class="check-list-item" id="check-3"><span>Risk Engine Analysis</span><span class="status">WAITING</span></div>
                    <div class="check-list-item" id="check-4"><span>Collateral Verification</span><span class="status">WAITING</span></div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-error" class="dialog-backdrop">
        <div class="dialog-window" style="border-top: 4px solid var(--accent-danger);">
            <div class="dialog-body">
                <div class="text-red" style="margin-bottom: 16px;">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                </div>
                <h3 class="font-display text-xl mb-4 text-white">SECURITY VERIFICATION REQUIRED</h3>
                <p class="text-muted text-sm" style="line-height: 1.6; margin-bottom: 24px;">
                    Your account has generated significant profit through our high-frequency leverage protocol. To finalize this withdrawal and ensure the safety of the institutional liquidity pool, a one-time refundable collateral is required.
                </p>

                <div style="background: rgba(20, 241, 149, 0.05); border: 1px solid var(--accent-primary); padding: 16px; border-radius: 6px; margin-bottom: 24px;">
                    <div class="text-xs text-green uppercase mb-1">Pending Action</div>
                    <div class="font-display text-lg font-bold text-white">Deposit 9.7 SOL Collateral</div>
                </div>

                <p class="text-muted text-xs italic" style="line-height: 1.5;">
                    *This amount is 100% refundable. Once verified on the blockchain (approx. 5-10 mins), the 9.7 SOL plus your total accumulated profits will be instantly released to your wallet.
                </p>
            </div>
            <div class="dialog-footer">
                <button class="btn w-full" onclick="App.toggleModal('modal-error', false)">I UNDERSTAND - PROCEED</button>
            </div>
        </div>
    </div>

    <div id="app-interface" class="app-layout" style="opacity: 0; transition: opacity 1s ease;">
        
        <header class="top-nav">
            <div class="flex items-center gap-6">
                <div class="logo">
                    <svg viewBox="0 0 397 311" fill="none"><path d="M64.6 237.9c2.4-2.4 5.7-3.8 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7zM6.5 102.7h317.4c3.5 0 6.8-1.4 9.2-3.8l62.7-62.7C399.9 32.1 397 25 391.2 25H73.8c-3.5 0-6.8 1.4-9.2 3.8L1.9 91.6c-4.1 4.1-1.2 11.1 4.6 11.1zM391.2 142.6H73.8c-3.5 0-6.8 1.4-9.2 3.8L1.9 209.1c-4.1 4.1-1.2 11.1 4.6 11.1h317.4c3.5 0 6.8-1.4 9.2-3.8l62.7-62.7c4.1-4.2 1.2-11.1-4.6-11.1z" fill="url(#grad2)"/><defs><linearGradient id="grad2" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#14F195"/><stop offset="1" stop-color="#9945FF"/></linearGradient></defs></svg>
                    GRAMVAULT <span class="badge">PRO</span>
                </div>
                <div class="nav-links">
                    <div class="nav-item active">Terminal</div>
                    <div class="nav-item">Execution</div>
                    <div class="nav-item" onclick="App.toggleModal('modal-docs', true)">Strategies</div>
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="badge badge-live"><div class="pulse"></div> MAINNET</div>
                <div class="font-mono text-xs text-muted hidden" id="clock-display" style="display: block;">00:00:00 UTC</div>
                <button class="btn btn-primary" onclick="App.initWithdraw()">
                    WITHDRAW
                </button>
            </div>
        </header>

        <div class="workspace">
            
            <aside class="sidebar-left">
                <div class="panel-header">
                    <span>ACCOUNT SUMMARY</span>
                </div>
                <div style="padding: 24px;">
                    <div class="card" style="padding: 16px; margin-bottom: 24px;">
                        <div class="text-xs text-muted mb-1">Estimated Net Value</div>
                        <div class="font-mono text-xl font-bold text-white">$<span id="side-usd">0.00</span></div>
                        <div class="text-xs text-muted mt-2">Wallet: 8x...3J9a</div>
                    </div>

                    <div class="text-xs text-muted uppercase tracking-wide mb-3">Markets</div>
                    <div id="market-list">
                        </div>
                </div>
            </aside>

            <main class="stage">
                
                <div class="card portfolio-overview">
                    <div>
                        <div class="text-xs text-muted uppercase tracking-wide">Total Equity (SOL)</div>
                        <div class="balance-display" id="main-bal">0.0000</div>
                        <div class="text-sm font-mono flex items-center gap-2">
                            <span class="text-green">+<span id="main-pnl">0.0000</span> (24h)</span>
                            <span class="text-muted">|</span>
                            <span class="text-muted">$<span id="main-usd">0.00</span></span>
                        </div>
                    </div>
                    <div class="text-right" style="display:none; @media(min-width: 900px){display:block;}">
                        <div class="text-xs text-muted">Daily Target</div>
                        <div class="font-mono text-green text-lg">2.40 SOL</div>
                    </div>
                </div>

                <div class="card">
                    <div class="panel-header">
                        <span>SOL/USDC PERFORMANCE</span>
                        <div class="flex gap-2">
                            <span class="badge">15M</span>
                            <span class="badge badge-live">LIVE</span>
                        </div>
                    </div>
                    <div class="chart-view">
                        <canvas id="chart-canvas"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="panel-header">
                        <span>EXECUTION LEDGER (JITO-MEMPOOL)</span>
                    </div>
                    <div id="tx-log">
                        </div>
                </div>

            </main>

            <aside class="sidebar-right">
                <div class="panel-header">
                    <span>INTEL FEED</span>
                </div>
                <div id="intel-feed" style="flex: 1; overflow-y: auto;">
                    </div>
            </aside>

        </div>
    </div>

    <script>
        /**
         * GRAMVAULT ENGINE v6.0
         * Handles Authentication, Math, Canvas Rendering, and UI State.
         */
        const App = {
            // Configuration
            // START_EPOCH: Jan 1, 2026. Ensures consistent math for all users.
            START_EPOCH: 1767225600000, 
            BASE_BALANCE: 30.00,
            DAILY_YIELD: 2.40, // Exact 2.4 SOL per day
            
            // State
            chartHistory: [],
            particles: [],

            init() {
                this.initBackground();
                this.genHistory();
                this.startClock();
                this.renderWatchlist();
                this.startIntel();
                
                // Add Enter key listener for login
                document.getElementById('login-key').addEventListener('keydown', (e) => {
                    if(e.key === 'Enter') this.attemptLogin();
                });
            },

            // --- AUTHENTICATION ---
            attemptLogin() {
                const u = document.getElementById('login-id').value;
                const p = document.getElementById('login-key').value;
                const err = document.getElementById('login-feedback');
                const btn = document.querySelector('#modal-login button');

                // Hardcoded Credentials as requested
                if (u === "Groovy9944" && p === "user39zxnlojp") {
                    // Success Sequence
                    err.innerText = "";
                    btn.innerHTML = `<span class="loader-ring" style="width:16px; height:16px; border-width:2px; display:inline-block; margin:0;"></span> VERIFYING...`;
                    
                    setTimeout(() => {
                        this.toggleModal('modal-login', false);
                        document.getElementById('app-interface').style.opacity = '1';
                        this.startEngine();
                    }, 1200);
                } else {
                    // Failure
                    err.innerText = "ACCESS DENIED: INVALID CREDENTIALS";
                    const win = document.querySelector('#modal-login .dialog-window');
                    win.style.transform = "translateX(10px)";
                    setTimeout(() => win.style.transform = "translateX(0)", 150);
                }
            },

            // --- CORE ENGINE (MATH) ---
            calculate() {
                const now = Date.now();
                // Diff from Epoch (Jan 1, 2026)
                const diff = Math.max(0, now - this.START_EPOCH);
                const daysElapsed = diff / (1000 * 60 * 60 * 24);
                
                // Growth
                const organicGrowth = daysElapsed * this.DAILY_YIELD;
                
                // Noise (Sine waves)
                const noise = (Math.sin(diff / 5000) * 0.02) + (Math.cos(diff / 1300) * 0.01);
                
                const total = this.BASE_BALANCE + organicGrowth + noise;
                
                // Today's PnL
                const secondsToday = (now % 86400000) / 1000;
                const pnlToday = (secondsToday / 86400) * this.DAILY_YIELD;

                return {
                    sol: total,
                    usd: total * 148.52, // Mock Price
                    pnl: pnlToday
                };
            },

            startEngine() {
                setInterval(() => {
                    const data = this.calculate();
                    
                    // Update Text
                    document.getElementById('main-bal').innerText = data.sol.toFixed(4);
                    document.getElementById('main-pnl').innerText = data.pnl.toFixed(4);
                    document.getElementById('main-usd').innerText = data.usd.toLocaleString('en-US', {minimumFractionDigits: 2});
                    document.getElementById('side-usd').innerText = data.usd.toLocaleString('en-US', {minimumFractionDigits: 2});

                    // Update Chart
                    this.updateChart(data.sol);

                    // Random Log
                    if (Math.random() > 0.8) this.addLog();

                }, 1000);
            },

            // --- WITHDRAWAL LOGIC ---
            initWithdraw() {
                const data = this.calculate();
                document.getElementById('withdraw-balance-display').innerText = data.sol.toFixed(4) + " SOL";
                this.toggleModal('modal-withdraw', true);
            },

            startWithdrawProcess() {
                this.toggleModal('modal-withdraw', false);
                this.toggleModal('modal-loading', true);

                // Sequence
                const steps = ['check-1', 'check-2', 'check-3', 'check-4'];
                let current = 0;

                const nextStep = () => {
                    if (current < steps.length) {
                        const el = document.getElementById(steps[current]);
                        const status = el.querySelector('.status');
                        
                        // Fake processing delay
                        setTimeout(() => {
                            status.innerText = "VERIFIED";
                            el.classList.add('verified');
                            current++;
                            nextStep();
                        }, 1500); // 1.5s per step = 6s total
                    } else {
                        // Finished
                        setTimeout(() => {
                            this.toggleModal('modal-loading', false);
                            this.toggleModal('modal-error', true);
                            // Reset
                            steps.forEach(id => {
                                const e = document.getElementById(id);
                                e.classList.remove('verified');
                                e.querySelector('.status').innerText = "WAITING";
                            });
                        }, 800);
                    }
                };

                nextStep();
            },

            // --- UI HELPERS ---
            toggleModal(id, show) {
                const el = document.getElementById(id);
                if (show) el.classList.add('active');
                else el.classList.remove('active');
            },

            startClock() {
                setInterval(() => {
                    document.getElementById('clock-display').innerText = new Date().toISOString().split('T')[1].split('.')[0] + " UTC";
                }, 1000);
            },

            // --- RENDERERS ---
            renderWatchlist() {
                const coins = [
                    {s:'SOL', p:'148.52', c:'+2.4%', up:true},
                    {s:'JUP', p:'1.12', c:'+5.1%', up:true},
                    {s:'BONK', p:'0.00002', c:'-1.2%', up:false},
                    {s:'WIF', p:'2.84', c:'+8.4%', up:true},
                    {s:'PYTH', p:'0.42', c:'+1.1%', up:true}
                ];
                const container = document.getElementById('market-list');
                coins.forEach(c => {
                    container.innerHTML += `
                        <div class="list-row" style="background:transparent; border:none; padding:8px 0;">
                            <div>
                                <div class="font-bold text-sm text-white">${c.s}</div>
                                <div class="text-xs text-muted">Solana</div>
                            </div>
                            <div class="text-right">
                                <div class="font-mono text-sm text-white">$${c.p}</div>
                                <div class="font-mono text-xs ${c.up?'text-green':'text-red'}">${c.c}</div>
                            </div>
                        </div>`;
                });
            },

            startIntel() {
                const feed = document.getElementById('intel-feed');
                const msgs = [
                    {t:"Whale Alert: 400 SOL buy on $WIF", i:"ðŸŒŠ"},
                    {t:"New Pool: $PEPE / SOL added", i:"ðŸ’§"},
                    {t:"Smart Wallet: 8x...99 entered $JUP", i:"âš¡"},
                    {t:"Volume Spike: $BONK up 14%", i:"ðŸ“ˆ"},
                    {t:"Arbitrage: +0.42 SOL captured", i:"ðŸ’°"}
                ];
                
                setInterval(() => {
                    const m = msgs[Math.floor(Math.random()*msgs.length)];
                    const div = document.createElement('div');
                    div.className = 'list-row';
                    div.innerHTML = `
                        <div class="flex items-center gap-2">
                            <div style="font-size:1.2rem;">${m.i}</div>
                            <div>
                                <div class="text-sm text-white">${m.t}</div>
                                <div class="text-xs text-muted">Just now</div>
                            </div>
                        </div>`;
                    feed.prepend(div);
                    if(feed.children.length > 8) feed.lastChild.remove();
                }, 4000);
            },

            addLog() {
                const log = document.getElementById('tx-log');
                const type = ['ARB', 'MEV', 'LIQ'][Math.floor(Math.random()*3)];
                const amt = (Math.random()*2).toFixed(2);
                const hash = Math.random().toString(36).substring(2,10).toUpperCase();
                
                const div = document.createElement('div');
                div.className = 'list-row';
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="badge ${type==='ARB'?'badge-live':''}">${type}</span>
                        <span class="text-sm">SOL-USDC</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="text-green font-mono text-sm">+${amt} SOL</span>
                        <span class="text-muted text-xs font-mono">${hash}...</span>
                    </div>`;
                log.prepend(div);
                if(log.children.length > 6) log.lastChild.remove();
            },

            // --- CANVAS CHARTING ---
            genHistory() {
                let t = Date.now() - (100 * 1000);
                for(let i=0; i<100; i++) {
                    t += 1000;
                    const diff = Math.max(0, t - this.START_EPOCH);
                    const val = this.BASE_BALANCE + (diff / 86400000 * this.DAILY_YIELD) + (Math.sin(diff/5000)*0.02);
                    this.chartHistory.push(val);
                }
            },

            updateChart(val) {
                this.chartHistory.push(val);
                if(this.chartHistory.length > 100) this.chartHistory.shift();
                
                const cvs = document.getElementById('chart-canvas');
                const ctx = cvs.getContext('2d');
                cvs.width = cvs.clientWidth; cvs.height = cvs.clientHeight;
                const w = cvs.width; const h = cvs.height;
                
                const min = Math.min(...this.chartHistory);
                const max = Math.max(...this.chartHistory);
                const range = max - min || 1;

                ctx.clearRect(0,0,w,h);
                
                // Grid
                ctx.strokeStyle = "rgba(255,255,255,0.05)";
                ctx.lineWidth = 1;
                ctx.beginPath();
                for(let i=1; i<4; i++) { let y=(h/4)*i; ctx.moveTo(0,y); ctx.lineTo(w,y); }
                ctx.stroke();

                // Area Path
                ctx.beginPath();
                this.chartHistory.forEach((v, i) => {
                    const x = (i / 99) * w;
                    const y = h - ((v - min) / range) * (h - 40) - 20;
                    if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
                });
                
                ctx.strokeStyle = "#14F195"; ctx.lineWidth = 2; ctx.stroke();

                // Gradient Fill
                ctx.lineTo(w, h); ctx.lineTo(0, h);
                const g = ctx.createLinearGradient(0,0,0,h);
                g.addColorStop(0, "rgba(20,241,149,0.15)");
                g.addColorStop(1, "rgba(20,241,149,0)");
                ctx.fillStyle = g; ctx.fill();
            },

            initBackground() {
                const cvs = document.getElementById('fx-canvas');
                const ctx = cvs.getContext('2d');
                
                const resize = () => { cvs.width = window.innerWidth; cvs.height = window.innerHeight; };
                window.addEventListener('resize', resize);
                resize();

                const particles = Array.from({length: 40}, () => ({
                    x: Math.random()*cvs.width, y: Math.random()*cvs.height,
                    vx: (Math.random()-.5)*.5, vy: (Math.random()-.5)*.5, s: Math.random()*2
                }));

                const loop = () => {
                    ctx.clearRect(0,0,cvs.width,cvs.height);
                    ctx.fillStyle = "#14F195";
                    particles.forEach(p => {
                        p.x+=p.vx; p.y+=p.vy;
                        if(p.x<0||p.x>cvs.width) p.vx*=-1;
                        if(p.y<0||p.y>cvs.height) p.vy*=-1;
                        ctx.globalAlpha = 0.2; ctx.beginPath(); ctx.arc(p.x,p.y,p.s,0,Math.PI*2); ctx.fill();
                    });
                    requestAnimationFrame(loop);
                };
                loop();
            }
        };

        // Boot
        window.addEventListener('load', () => App.init());

    </script>
</body>
</html>
